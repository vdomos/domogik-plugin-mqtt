{ 
    "products" : [], 
    "configuration": [
        {
            "default": "localhost",
            "description": "MQTT server host",
            "key": "mqtt_host",
            "name" : "MQTT Host",
            "required": true,
            "type": "string"
        },
        {
            "default": "1883",
            "description": "MQTT server Port",
            "key": "mqtt_port",
            "name" : "MQTT Port",
            "required": true,
            "type": "integer"
        },
        {
            "default": "domogik",
            "description": "MQTT topic to subscribe",
            "key": "mqtt_topic",
            "name" : "MQTT topic",
            "required": true,
            "type": "string"
        }
    ], 
    "commands": {},
    "xpl_commands": {}, 
    "sensors": {
        "sensor_temperature": {
            "name": "Temperature",
            "incremental" : false,
            "data_type": "DT_Temp",
            "conversion": "",
            "timeout" : 600,
            "history": {
                "store": true,
                "duplicate" : false,
                "max": 0,
                "expire": 0,
                "round_value": 0
            }
        },
        "sensor_humidity": {
            "name": "Humidity",
            "incremental" : false,
            "data_type": "DT_Humidity",
            "conversion": "",
            "timeout" : 600,
            "history": {
                "store": true,
                "duplicate" : false,
                "max": 0,
                "expire": 0,
                "round_value": 0
            }
        },
        "sensor_battery": {
            "name": "Battery",
            "incremental" : false,
            "data_type": "DT_Scaling",
            "conversion": "",
            "timeout" : 600,
            "history": {
                "store": true,
                "duplicate" : false,
                "max": 0,
                "expire": 0,
                "round_value": 0
            }
        },
        "sensor_luminosity": {
            "name": "Luminosity",
            "incremental" : false,
            "data_type": "DT_Brightness",
            "conversion": "",
            "timeout" : 600,
            "history": {
                "store": true,
                "duplicate" : false,
                "max": 0,
                "expire": 0,
                "round_value": 0
            }
        },
        "sensor_pressure": {
            "name": "Pressure",
            "incremental" : false,
            "data_type": "DT_Pression",
            "conversion": "",
            "timeout" : 600,
            "history": {
                "store": true,
                "duplicate" : false,
                "max": 0,
                "expire": 0,
                "round_value": 0
            }
        },
        "sensor_power": {
            "name": "Power",
            "incremental" : false,
            "data_type": "DT_Power",
            "conversion": "",
            "timeout" : 600,
            "history": {
                "store": true,
                "duplicate" : false,
                "max": 0,
                "expire": 0,
                "round_value": 0
            }
        },
        "sensor_energy": {
            "name": "Energy",
            "incremental" : false,
            "data_type": "DT_ApparantEnergy",
            "conversion": "",
            "timeout" : 600,
            "history": {
                "store": true,
                "duplicate" : false,
                "max": 0,
                "expire": 0,
                "round_value": 0
            }
        },
        "sensor_water": {
            "name": "Water",
            "incremental" : false,
            "data_type": "DT_Number",
            "conversion": "",
            "timeout" : 600,
            "history": {
                "store": true,
                "duplicate" : false,
                "max": 0,
                "expire": 0,
                "round_value": 0
            }
        },
        "sensor_count": {
            "name": "Count",
            "incremental" : true,
            "data_type": "DT_Number",
            "conversion": "",
            "timeout" : 600,
            "history": {
                "store": true,
                "duplicate" : false,
                "max": 0,
                "expire": 0,
                "round_value": 0
            }
        },
        "sensor_uv": {
            "name": "UV",
            "incremental" : false,
            "data_type": "DT_Brightness",
            "conversion": "",
            "timeout" : 600,
            "history": {
                "store": true,
                "duplicate" : false,
                "max": 0,
                "expire": 0,
                "round_value": 0
            }
        },
        "sensor_windspeed": {
            "name": "Windspeed",
            "incremental" : false,
            "data_type": "DT_kmhSpeed",
            "conversion": "",
            "timeout" : 600,
            "history": {
                "store": true,
                "duplicate" : false,
                "max": 0,
                "expire": 0,
                "round_value": 0
            }
        },
        "sensor_rainfall": {
            "name": "Rainfall",
            "incremental" : false,
            "data_type": "DT_mMeterHour",
            "conversion": "",
            "timeout" : 600,
            "history": {
                "store": true,
                "duplicate" : false,
                "max": 0,
                "expire": 0,
                "round_value": 0
            }
        },
        "sensor_outflow": {
            "name": "Outflow",
            "incremental" : false,
            "data_type": "DT_Number",
            "conversion": "",
            "timeout" : 600,
            "history": {
                "store": true,
                "duplicate" : false,
                "max": 0,
                "expire": 0,
                "round_value": 0
            }
        },
        "sensor_voltage": {
            "name": "Voltage",
            "incremental" : false,
            "data_type": "DT_Volt",
            "conversion": "",
            "timeout" : 600,
            "history": {
                "store": true,
                "duplicate" : false,
                "max": 0,
                "expire": 0,
                "round_value": 0
            }
        },
        "sensor_current": {
            "name": "Current",
            "incremental" : false,
            "data_type": "DT_Current",
            "conversion": "",
            "timeout" : 600,
            "history": {
                "store": true,
                "duplicate" : false,
                "max": 0,
                "expire": 0,
                "round_value": 0
            }
        }
    },
    "xpl_stats": {
       "temperature": {
            "name": "Stat Temperature",
            "schema": "sensor.basic",
            "parameters": {
                    "static": [
            {
                "key": "type",
                "value": "temp"
            }
            ],
                    "device": [],
                    "dynamic": [
                        {
                             "key": "current",
                             "ignore_values": "",
                             "sensor": "sensor_temperature"
                        }
                    ]
               }
       },
       "humidity": {
            "name": "Stat Humidity",
            "schema": "sensor.basic",
            "parameters": {
                    "static": [
            {
                "key": "type",
                "value": "humidity"
            }
            ],
                    "device": [],
                    "dynamic": [
                        {
                             "key": "current",
                             "ignore_values": "",
                             "sensor": "sensor_humidity"
                        }
                    ]
               }
       },
       "battery": {
            "name": "Stat Battery",
            "schema": "sensor.basic",
            "parameters": {
                    "static": [
            {
                "key": "type",
                "value": "battery"
            }
            ],
                    "device": [],
                    "dynamic": [
                        {
                             "key": "current",
                             "ignore_values": "",
                             "sensor": "sensor_battery"
                        }
                    ]
               }
       },
       "luminosity": {
            "name": "Stat Luminosity",
            "schema": "sensor.basic",
            "parameters": {
                    "static": [
            {
                "key": "type",
                "value": "luminosity"
            }
            ],
                    "device": [],
                    "dynamic": [
                        {
                             "key": "current",
                             "ignore_values": "",
                             "sensor": "sensor_luminosity"
                        }
                    ]
               }
       },
       "pressure": {
            "name": "Stat Pressure",
            "schema": "sensor.basic",
            "parameters": {
                    "static": [
            {
                "key": "type",
                "value": "pressure"
            }
            ],
                    "device": [],
                    "dynamic": [
                        {
                             "key": "current",
                             "ignore_values": "",
                             "sensor": "sensor_pressure"
                        }
                    ]
               }
       },
       "power": {
            "name": "Stat Power",
            "schema": "sensor.basic",
            "parameters": {
                    "static": [
            {
                "key": "type",
                "value": "power"
            }
            ],
                    "device": [],
                    "dynamic": [
                        {
                             "key": "current",
                             "ignore_values": "",
                             "sensor": "sensor_power"
                        }
                    ]
               }
       },
       "energy": {
            "name": "Stat Energy",
            "schema": "sensor.basic",
            "parameters": {
                    "static": [
            {
                "key": "type",
                "value": "energy"
            }
            ],
                    "device": [],
                    "dynamic": [
                        {
                             "key": "current",
                             "ignore_values": "",
                             "sensor": "sensor_energy"
                        }
                    ]
               }
       },
       "water": {
            "name": "Stat Water",
            "schema": "sensor.basic",
            "parameters": {
                    "static": [
            {
                "key": "type",
                "value": "water"
            }
            ],
                    "device": [],
                    "dynamic": [
                        {
                             "key": "current",
                             "ignore_values": "",
                             "sensor": "sensor_water"
                        }
                    ]
               }
       },
       "count": {
            "name": "Stat Count",
            "schema": "sensor.basic",
            "parameters": {
                    "static": [
            {
                "key": "type",
                "value": "count"
            }
            ],
                    "device": [],
                    "dynamic": [
                        {
                             "key": "current",
                             "ignore_values": "",
                             "sensor": "sensor_count"
                        }
                    ]
               }
       },
       "uv": {
            "name": "Stat UV",
            "schema": "sensor.basic",
            "parameters": {
                    "static": [
            {
                "key": "type",
                "value": "uv"
            }
            ],
                    "device": [],
                    "dynamic": [
                        {
                             "key": "current",
                             "ignore_values": "",
                             "sensor": "sensor_uv"
                        }
                    ]
               }
       },
       "windspeed": {
            "name": "Stat Windspeed",
            "schema": "sensor.basic",
            "parameters": {
                    "static": [
            {
                "key": "type",
                "value": "windspeed"
            }
            ],
                    "device": [],
                    "dynamic": [
                        {
                             "key": "current",
                             "ignore_values": "",
                             "sensor": "sensor_windspeed"
                        }
                    ]
               }
       },
       "rainfall": {
            "name": "Stat Rainfall",
            "schema": "sensor.basic",
            "parameters": {
                    "static": [
            {
                "key": "type",
                "value": "rainfall"
            }
            ],
                    "device": [],
                    "dynamic": [
                        {
                             "key": "current",
                             "ignore_values": "",
                             "sensor": "sensor_rainfall"
                        }
                    ]
               }
       },
       "outflow": {
            "name": "Stat Outflow",
            "schema": "sensor.basic",
            "parameters": {
                    "static": [
            {
                "key": "type",
                "value": "outflow"
            }
            ],
                    "device": [],
                    "dynamic": [
                        {
                             "key": "current",
                             "ignore_values": "",
                             "sensor": "sensor_outflow"
                        }
                    ]
               }
       },
       "voltage": {
            "name": "Stat Voltage",
            "schema": "sensor.basic",
            "parameters": {
                    "static": [
            {
                "key": "type",
                "value": "voltage"
            }
            ],
                    "device": [],
                    "dynamic": [
                        {
                             "key": "current",
                             "ignore_values": "",
                             "sensor": "sensor_voltage"
                        }
                    ]
               }
       },
       "current": {
            "name": "Stat Current",
            "schema": "sensor.basic",
            "parameters": {
                    "static": [
            {
                "key": "type",
                "value": "current"
            }
            ],
                    "device": [],
                    "dynamic": [
                        {
                             "key": "current",
                             "ignore_values": "",
                             "sensor": "sensor_current"
                        }
                    ]
               }
       }
    },    
    "device_types": {
        "mqtt.temperature": {
            "description": "", 
            "id": "mqtt.temperature", 
            "name": "Temperature sensors",
            "commands": [],
            "sensors": ["sensor_temperature"],
            "parameters": [
                {
                    "key": "device",
                    "xpl" : true,
                    "description": "xPL device parameter name.",
                    "type": "string"
                }
            ]
        },
        "mqtt.humidity": {
            "description": "", 
            "id": "mqtt.hummidity", 
            "name": "Humidity sensors",
            "commands": [],
            "sensors": ["sensor_humidity"],
            "parameters": [
                {
                    "key": "device",
                    "xpl" : true,
                    "description": "xPL device parameter name.",
                    "type": "string"
                }
            ]
        },
        "mqtt.battery": {
            "description": "", 
            "id": "mqtt.battery", 
            "name": "Battery sensors",
            "commands": [],
            "sensors": ["sensor_battery"],
            "parameters": [
                {
                    "key": "device",
                    "xpl" : true,
                    "description": "xPL device parameter name.",
                    "type": "string"
                }
            ]
        },
        "mqtt.luminosity": {
            "description": "", 
            "id": "mqtt.luminosity", 
            "name": "Luminosity sensors",
            "commands": [],
            "sensors": ["sensor_luminosity"],
            "parameters": [
                {
                    "key": "device",
                    "xpl" : true,
                    "description": "xPL device parameter name.",
                    "type": "string"
                }
            ]
        },
        "mqtt.pressure": {
            "description": "", 
            "id": "mqtt.pressure", 
            "name": "Pressure sensors",
            "commands": [],
            "sensors": ["sensor_pressure"],
            "parameters": [
                {
                    "key": "device",
                    "xpl" : true,
                    "description": "xPL device parameter name.",
                    "type": "string"
                }
            ]
        },
        "mqtt.power": {
            "description": "", 
            "id": "mqtt.power", 
            "name": "Power sensors",
            "commands": [],
            "sensors": ["sensor_power"],
            "parameters": [
                {
                    "key": "device",
                    "xpl" : true,
                    "description": "xPL device parameter name.",
                    "type": "string"
                }
            ]
        },
        "mqtt.energy": {
            "description": "", 
            "id": "mqtt.energy", 
            "name": "Energy sensors",
            "commands": [],
            "sensors": ["sensor_energy"],
            "parameters": [
                {
                    "key": "device",
                    "xpl" : true,
                    "description": "xPL device parameter name.",
                    "type": "string"
                }
            ]
        },
        "mqtt.water": {
            "description": "", 
            "id": "mqtt.water", 
            "name": "Water sensors",
            "commands": [],
            "sensors": ["sensor_water"],
            "parameters": [
                {
                    "key": "device",
                    "xpl" : true,
                    "description": "xPL device parameter name.",
                    "type": "string"
                }
            ]
        },
        "mqtt.count": {
            "description": "", 
            "id": "mqtt.count", 
            "name": "Count sensors",
            "commands": [],
            "sensors": ["sensor_count"],
            "parameters": [
                {
                    "key": "device",
                    "xpl" : true,
                    "description": "xPL device parameter name.",
                    "type": "string"
                }
            ]
        },
        "mqtt.uv": {
            "description": "", 
            "id": "mqtt.uv", 
            "name": "UV sensors",
            "commands": [],
            "sensors": ["sensor_uv"],
            "parameters": [
                {
                    "key": "device",
                    "xpl" : true,
                    "description": "xPL device parameter name.",
                    "type": "string"
                }
            ]
        },
        "mqtt.windspeed": {
            "description": "", 
            "id": "mqtt.windspeed", 
            "name": "Windspeed sensors",
            "commands": [],
            "sensors": ["sensor_windspeed"],
            "parameters": [
                {
                    "key": "device",
                    "xpl" : true,
                    "description": "xPL device parameter name.",
                    "type": "string"
                }
            ]
        },
        "mqtt.rainfall": {
            "description": "", 
            "id": "mqtt.rainfall", 
            "name": "Rainfall sensors",
            "commands": [],
            "sensors": ["sensor_rainfall"],
            "parameters": [
                {
                    "key": "device",
                    "xpl" : true,
                    "description": "xPL device parameter name.",
                    "type": "string"
                }
            ]
        },
        "mqtt.outflow": {
            "description": "", 
            "id": "mqtt.outflow", 
            "name": "Outflow sensors",
            "commands": [],
            "sensors": ["sensor_outflow"],
            "parameters": [
                {
                    "key": "device",
                    "xpl" : true,
                    "description": "xPL device parameter name.",
                    "type": "string"
                }
            ]
        },
        "mqtt.voltage": {
            "description": "", 
            "id": "mqtt.voltage", 
            "name": "Voltage sensors",
            "commands": [],
            "sensors": ["sensor_voltage"],
            "parameters": [
                {
                    "key": "device",
                    "xpl" : true,
                    "description": "xPL device parameter name.",
                    "type": "string"
                }
            ]
        },
        "mqtt.current": {
            "description": "", 
            "id": "mqtt.current", 
            "name": "Current sensors",
            "commands": [],
            "sensors": ["sensor_current"],
            "parameters": [
                {
                    "key": "device",
                    "xpl" : true,
                    "description": "xPL device parameter name.",
                    "type": "string"
                }
            ]
        }
	}, 
    "identity": {
        "author": "domos", 
        "author_email": "domos.vesta at gmail.com", 
        "tags": ["protocole"], 
        "dependencies": [
            {   
                "id": "paho-mqtt (>=1.1)",
                "type": "python"
            }
        ],
        "description": "Domogik Plugin for mqtt sensor messages:\n Connect to a Mosquitto server and wait for incomming specific topic for Domogik.",
        "domogik_min_version": "0.4.0", 
        "name": "mqtt", 
        "type": "plugin", 
        "version": "0.1"
    }, 
    "json_version": 2
}
